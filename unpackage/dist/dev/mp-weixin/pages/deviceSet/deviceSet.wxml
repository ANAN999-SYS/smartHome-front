<view><pyh-nv vue-id="7bf87666-1" config="{{config}}" bind:__l="__l"></pyh-nv><block wx:if="{{devicesList}}"><view class="roomList"><block wx:for="{{devicesList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="roomCard"><t-swipe-cell vue-id="{{'7bf87666-2-'+index}}" data-com-type="wx" bind:__l="__l" vue-slots="{{['default','right']}}"><t-cell vue-id="{{('7bf87666-3-'+index)+','+('7bf87666-2-'+index)}}" bordered="{{false}}" title="{{item.name}}" description="{{item.roomName}}" note="左划操作" data-com-type="wx" bind:__l="__l" vue-slots="{{['image']}}"><view slot="image"><image class="cellImg" src="{{'../../static/device/'+item.iconId+'.png'}}"></image></view></t-cell><view class="btn-wrapper" slot="right"><view data-event-opts="{{[['tap',[['onEdit',['$0'],[[['devicesList','',index]]]]]]]}}" class="btn edit-btn column" bindtap="__e"><t-icon class="padding-bottom" vue-id="{{('7bf87666-4-'+index)+','+('7bf87666-2-'+index)}}" name="edit" size="32rpx" data-com-type="wx" bind:__l="__l"></t-icon>编辑</view><view data-event-opts="{{[['tap',[['onDelete',['$0'],[[['devicesList','',index]]]]]]]}}" class="btn delete-btn column" bindtap="__e"><t-icon class="padding-bottom" vue-id="{{('7bf87666-5-'+index)+','+('7bf87666-2-'+index)}}" name="delete" size="32rpx" data-com-type="wx" bind:__l="__l"></t-icon>删除</view></view></t-swipe-cell></view></block></view></block><block wx:else><view class="noneData"><view>暂无设备信息</view></view></block><view style="height:50rpx;"></view><t-fab style="position:fixed;z-index:3;" vue-id="7bf87666-6" icon="add" draggable="{{true}}" data-event-opts="{{[['^click',[['addDevice']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l"></t-fab><t-popup vue-id="7bf87666-7" visible="{{popupVisible}}" placement="center" data-event-opts="{{[['^visibleChange',[['onVisibleChange']]]]}}" data-com-type="wx" bind:visibleChange="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="block"><view class="popHeard">{{operateTitle}}</view><t-cell vue-id="{{('7bf87666-8')+','+('7bf87666-7')}}" title="选择图标" note="{{devicesData.code}}" arrow="{{true}}" hover="{{true}}" data-event-opts="{{[['^click',[['onDevPop']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['image']}}"><view slot="image"><image class="PopcellImg" src="{{'../../static/device/'+(devicesData.iconId?devicesData.iconId:'setting')+'.png'}}"></image></view></t-cell><t-input vue-id="{{('7bf87666-9')+','+('7bf87666-7')}}" label="名称" type="text" value="{{devicesData.name}}" clearable="{{true}}" data-event-opts="{{[['^blur',[['getDeviceName']]]]}}" data-com-type="wx" bind:blur="__e" bind:__l="__l"></t-input><t-cell vue-id="{{('7bf87666-10')+','+('7bf87666-7')}}" title="选择房间" note="{{devicesData.roomName}}" arrow="{{true}}" hover="{{true}}" data-event-opts="{{[['^click',[['onCityPicker']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l"></t-cell><view class="btnBox"><t-button vue-id="{{('7bf87666-11')+','+('7bf87666-7')}}" t-class="cardBoxbtn" theme="primary" size="medium" shape="round" hover-class="none" data-event-opts="{{[['^tap',[['saveDevice']]]]}}" data-com-type="wx" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">保存</t-button></view></view></t-popup><t-picker vue-id="7bf87666-12" visible="{{roomVisible}}" data-key="room" title="选择房间" cancelBtn="取消" confirmBtn="确认" data-event-opts="{{[['^confirm',[['onPickerConfirm']]],['^cancel',[['onPickerCancel']]]]}}" data-com-type="wx" bind:confirm="__e" bind:cancel="__e" bind:__l="__l" vue-slots="{{['default']}}"><t-picker-item vue-id="{{('7bf87666-13')+','+('7bf87666-12')}}" options="{{roomList}}" data-com-type="wx" bind:__l="__l"></t-picker-item></t-picker><t-popup vue-id="7bf87666-14" visible="{{devVisible}}" placement="bottom" data-event-opts="{{[['^visibleChange',[['onVisibleIconChange']]]]}}" data-com-type="wx" bind:visibleChange="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="devBlock"><view class="devHeader"><view class="devTitle">选择图标</view></view></view><view><scroll-view style="height:335rpx;" scroll-y="{{true}}"><view class="container"><block wx:for="{{iconList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="columnIcon" data-code="{{item.code}}"><image class="columnImg" src="{{'../../static/device/'+item.icon+'.png'}}" data-event-opts="{{[['tap',[['chooseImg',['$0'],[[['iconList','',index]]]]]]]}}" bindtap="__e"></image></view></block></view></scroll-view></view><view style="height:30rpx;"></view></t-popup></view>