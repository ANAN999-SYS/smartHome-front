<view><pyh-nv vue-id="856bd900-1" config="{{config}}" bind:__l="__l"></pyh-nv><view class="HeaderBox"><view class="deviceTitle">情景信息</view><t-cell vue-id="856bd900-2" t-class="cellBox" title="选择图标" note="{{scensData.iconId}}" hover="{{true}}" arrow="{{true}}" data-event-opts="{{[['^click',[['getIcon']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l" vue-slots="{{['image']}}"><view slot="image"><image class="cellImg" src="{{'../../static/scens/'+(scensData.iconId?scensData.iconId:'setting')+'.png'}}"></image></view></t-cell><t-cell vue-id="856bd900-3" title="情景名称" note="{{scensData.name?scensData.name:'未设置'}}" hover="{{true}}" arrow="{{true}}" bordered="{{false}}" data-event-opts="{{[['^click',[['getScensName']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l"></t-cell></view><view class="deviceBox"><view class="deviceTitle">设备信息</view><block wx:for="{{scensData.operate}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view><t-swipe-cell vue-id="{{'856bd900-4-'+index}}" data-com-type="wx" bind:__l="__l" vue-slots="{{['default','right']}}"><t-cell vue-id="{{('856bd900-5-'+index)+','+('856bd900-4-'+index)}}" t-class="cellBox" title="{{item.name}}" description="{{item.room}}" hover="{{true}}" data-com-type="wx" bind:__l="__l" vue-slots="{{['note']}}"><t-switch vue-id="{{('856bd900-6-'+index)+','+('856bd900-5-'+index)}}" slot="note" defaultValue="{{item.operate?item.operate:false}}" value="{{item.operate}}" icon="{{['wifi','wifi-off']}}" data-event-opts="{{[['^change',[['onAndOff',['$0'],[[['scensData.operate','',index]]]]]]]}}" data-com-type="wx" bind:change="__e" bind:__l="__l"></t-switch></t-cell><view class="btn delete-btn" slot="right" data-event-opts="{{[['tap',[['onDelete',['$0',index],[[['scensData.operate','',index]]]]]]]}}" bindtap="__e">删除</view></t-swipe-cell></view></block><view data-event-opts="{{[['tap',[['chooseDevice',['$event']]]]]}}" class="addCard" bindtap="__e"><t-icon vue-id="856bd900-7" name="add-circle" color="#42a6ef" size="48rpx" data-name="add-circle" bind:click="onIconTap" data-com-type="wx" bind:__l="__l"></t-icon><view style="margin-left:8rpx;">添加设备</view></view></view><view style="height:50rpx;"></view><t-fab style="position:fixed;z-index:3;" vue-id="856bd900-8" icon="check" draggable="{{true}}" data-event-opts="{{[['^click',[['addScens']]]]}}" data-com-type="wx" bind:click="__e" bind:__l="__l"></t-fab><t-popup vue-id="856bd900-9" visible="{{scensVisible}}" placement="bottom" data-event-opts="{{[['^visibleChange',[['onVisibleIconChange']]]]}}" data-com-type="wx" bind:visibleChange="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="devBlock"><view class="devHeader"><view class="devTitle">选择图标</view></view></view><view><scroll-view style="height:335rpx;" scroll-y="{{true}}"><view class="container"><block wx:for="{{iconList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="columnIcon" data-code="{{item.code}}"><image class="columnImg" src="{{'../../static/scens/'+item.icon+'.png'}}" data-event-opts="{{[['tap',[['chooseImg',['$0'],[[['iconList','',index]]]]]]]}}" bindtap="__e"></image></view></block></view></scroll-view></view><view style="height:30rpx;"></view></t-popup><t-popup vue-id="856bd900-10" visible="{{nameVisible}}" placement="center" data-event-opts="{{[['^visibleChange',[['onVisibleChangeinput']]]]}}" data-com-type="wx" bind:visibleChange="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="block"><view class="popHeard">情景名称</view><view class="inputBox"><t-input vue-id="{{('856bd900-11')+','+('856bd900-10')}}" placeholder="请输入名称" type="text" clearable="{{true}}" data-event-opts="{{[['^blur',[['getName']]]]}}" data-com-type="wx" bind:blur="__e" bind:__l="__l"></t-input></view><view class="btnBox"><t-button vue-id="{{('856bd900-12')+','+('856bd900-10')}}" t-class="cardBoxbtn" theme="primary" size="medium" shape="round" hover-class="none" data-event-opts="{{[['^tap',[['saveName']]]]}}" data-com-type="wx" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">保存</t-button></view></view></t-popup></view>